(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home"],{6638:function(t,s,a){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=n(a("2425")),e=a("2f62"),o=n(a("17df"));function n(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(s){l(t,s,a[s])})}return t}function l(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}var r={computed:(0,e.mapState)(["forcedLogin","hasLogin","userName"]),onLoad:function(){var s=t.getSystemInfoSync();this.x=s.windowWidth-35,this.y=(s.windowHeight-40)/2},components:{mInput:o.default},data:function(){return{x:0,y:0,old:{x:0,y:0},CustomBar:this.CustomBar,modalName:null,radio:"radio1",providerList:[],hasProvider:!1,account:"",password:"",positionTop:0}},methods:c({},(0,e.mapMutations)(["login"]),{showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},bindLogin1:function(){t.navigateTo({url:"../login/login"})},bindusercenter:function(){t.navigateTo({url:"../user/user"})},bindLogin:function(){if(this.account.length<5)t.showToast({icon:"none",title:"账号最短为 5 个字符"});else if(this.password.length<6)t.showToast({icon:"none",title:"密码最短为 6 个字符"});else{var s={account:this.account,password:this.password},a=i.default.getUsers().some(function(t){return s.account===t.account&&s.password===t.password});a?this.toMain(this.account):t.showToast({icon:"none",title:"用户账号或密码不正确"})}},oauth:function(s){var a=this;t.login({provider:s,success:function(i){t.getUserInfo({provider:s,success:function(t){a.toMain(t.userInfo.nickName)}})},fail:function(t){console.error("授权登录失败："+JSON.stringify(t))}})},toMain:function(s){this.login(s),this.forcedLogin?t.reLaunch({url:"../home/home"}):t.navigateBack()},onChange:function(s){var a=t.getSystemInfoSync(),i=a.windowWidth-25,e=a.windowHeight-40;this.old.x=s.detail.x,this.old.y=s.detail.y,this.old.y>e-20?(console.log("1"),this.x=this.old.x,this.y=this.old.y,this.$nextTick(function(){this.y=e-20,this.x=this.old.x})):this.old.y<0?(console.log("1"),this.x=this.old.x,this.y=this.old.y,this.$nextTick(function(){this.y=0,this.x=this.old.x})):this.old.x>i||this.old.x>i/2?(console.log("2"),this.x=this.old.x,this.y=this.old.y,this.$nextTick(function(){this.y=this.old.y,this.x=i+8})):(this.old.x<-40||this.old.x<i/2)&&(console.log("2"),this.x=this.old.x,this.y=this.old.y,this.$nextTick(function(){this.y=this.old.y,this.x=-15}))}})};s.default=r}).call(this,a("6e42")["default"])},7461:function(t,s,a){"use strict";a.r(s);var i=a("6638"),e=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(s,t,function(){return i[t]})}(o);s["default"]=e.a},"8a1f":function(t,s,a){"use strict";var i=a("d457"),e=a.n(i);e.a},"9fca":function(t,s,a){"use strict";a("6a7e");var i=o(a("b0ce")),e=o(a("c522"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(e.default))},c522:function(t,s,a){"use strict";a.r(s);var i=a("fd54"),e=a("7461");for(var o in e)"default"!==o&&function(t){a.d(s,t,function(){return e[t]})}(o);a("8a1f");var n=a("2877"),c=Object(n["a"])(e["default"],i["a"],i["b"],!1,null,null,null);s["default"]=c.exports},d457:function(t,s,a){},fd54:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("view",{staticClass:"content"},[t.hasLogin?a("view",{staticClass:"hello"},[a("view",{staticClass:"flex-sub text-center"},[a("cover-view",{staticClass:"controls-title",attrs:{mpcomid:"39fc29a8-1"}},[a("movable-view",{attrs:{x:t.x,y:t.y,direction:"all",damping:"100","out-of-bounds":"ture",eventid:"39fc29a8-0",mpcomid:"39fc29a8-0"},on:{change:t.onChange,tap:t.bindusercenter}},[a("view",{staticClass:"cu-avatar round",staticStyle:{"background-image":"url(https://ossweb-img.qq.com/images/lol/web201310/skin/big10001.jpg)"}})])],1),a("view",{staticClass:"solid-bottom text-xl padding"},[a("text",{staticClass:"text-black text-bold"},[t._v("您好 "+t._s(t.userName)+"，您已成功登录。")])]),a("button",{staticClass:"cu-btn block bg-gradual-blue margin-tb-sm",attrs:{eventid:"39fc29a8-1"},on:{tap:t.bindusercenter}},[t._v("个人中心")])],1)]):t._e(),t.hasLogin?t._e():a("view",[t._m(0),a("view",{staticClass:"padding"},[a("view",[t._v("点击 “登录弹窗” 可以 “登录您的账户”")]),a("button",{staticClass:"cu-btn block bg-gradual-blue margin-tb-sm lg shadow",attrs:{"data-target":"Modal",eventid:"39fc29a8-2"},on:{tap:t.showModal}},[t._v("登录弹窗")])],1),a("view",{staticClass:"cu-modal",class:"Modal"==t.modalName?"show":""},[a("view",{staticClass:"cu-dialog"},[a("view",{staticClass:"cu-bar justify-end bg-gradual-blue shadow"},[a("view",{staticClass:"content",attrs:{id:"login"}},[t._v("登 录")]),a("view",{staticClass:"action",attrs:{eventid:"39fc29a8-3"},on:{tap:t.hideModal}},[a("text",{staticClass:"icon-close"})])]),a("view",{staticClass:"padding-xl shadow"},[a("view",{staticClass:"input-group"},[a("view",{staticClass:"cu-form-group shadow"},[a("view",{staticClass:"title"},[t._v("账号：")]),a("m-input",{staticClass:"text-left",attrs:{id:"account",focus:"",placeholder:"请输入账号",name:"input",eventid:"39fc29a8-4",mpcomid:"39fc29a8-2"},model:{value:t.account,callback:function(s){t.account=s},expression:"account"}})],1),a("view",{staticClass:"cu-form-group shadow"},[a("view",{staticClass:"title"},[t._v("密码：")]),a("m-input",{staticClass:"text-left",attrs:{id:"password",type:"password",displayable:"",placeholder:"请输入密码",eventid:"39fc29a8-5",mpcomid:"39fc29a8-3"},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1)]),a("view",{staticClass:"btn-row"},[a("button",{staticClass:"cu-btn block bg-gradual-blue margin-tb-sm lg shadow",attrs:{eventid:"39fc29a8-6"},on:{tap:t.bindLogin}},[t._v("登 录")])],1),a("view",{staticClass:"cu-btn block shadow"},[a("navigator",{staticClass:"text-blue padding",attrs:{url:"../reg/reg"}},[t._v("注册账号")]),a("text",[t._v("|")]),a("navigator",{staticClass:"text-blue padding",attrs:{url:"../pwd/pwd"}},[t._v("忘记密码")])],1)])])])])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("view",{staticClass:"solid-bottom text-xl padding"},[a("text",{staticClass:"text-black text-bold"},[t._v("您好 游客。")])])}];a.d(s,"a",function(){return i}),a.d(s,"b",function(){return e})}},[["9fca","common/runtime","common/vendor"]]]);